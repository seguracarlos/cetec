<!-- load styles -->
<link rel="stylesheet" type="text/css" href="<?php echo $this->basePath();?>/public/js/bookshelf/css/bookshelf_slider.css" />
<link rel="stylesheet" type="text/css" href="<?php echo $this->basePath();?>/public/js/bookshelf/css/skin01.css" />


<script type="text/javascript" src="<?php echo $this->basePath();?>/public/js/bookshelf/js/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="<?php echo $this->basePath();?>/public/js/bookshelf/js/jquery.bookshelfslider.js"></script>



<div class="breadcrumbs">
	<div class="container">
		<div class="col-md-4"><div class="row"><p class="title-breadcrumbs">Mis Cursos</p></div></div>
		<div class="col-md-4">
			<div class="row">
				<!--<ul class="toolbar">
					<li><a href="#" class="btn"> <span class="glyphicon glyphicon-home"></span> Uno </a></li>
					<li><a href="#" class="btn"> <span class="glyphicon glyphicon-home"></span> Dos </a></li>
					<li><a href="#" class="btn"> <span class="glyphicon glyphicon-home"></span> Tres </a></li>
				</ul>-->
			</div>
		</div>
		
    </div> <!-- end container -->
</div> <!-- end breadcrumbs -->


<div class="container">
	
	
	<input type="hidden" name="idTopic" id="idTopic" value=""/>
	
	
	<?php  if($this->role==4){?>
			<legend>Aqui se muestran los temas correspondientes a tu curso, puedes consultar su contenido dando click en el tema de tu inter&eacute;s
			<div class="arrow animated bounce">
	  <a class="bottom" href="#"><img width="40" height="40" src="https://cdn1.iconfinder.com/data/icons/utility-icons/50/Down-128.png" /></a>
	</div></legend>
	
		<div id="bookshelf_slider" class="bookshelf_slider">

    <div class="panel_title">
        <div class="selected_title_box"><div class="selected_title">Selected Title</div></div>
        
    </div><!-- .panel_title -->
		<div class="panel_slider">
    	<div class="panel_items">
    	
    	<?php foreach($this->themes as $topics){?>
    		<div class="slide_animate">
    			<div class="products_box" id="<?php echo "products_box_".$topics['id_topic']?>">
    		<?php foreach ($topics['subtopics'] as $subtopic){?>
    				<?php if($subtopic['id_topic'] % 2 == 0 && $subtopic['id_topic']!= 100){?>
                	<div class="product" data-id=<?php echo $subtopic['id_topic']; ?>  title="<?php echo $subtopic['topic_name']?>"><img src="<?php echo $this->basePath();?>/public/js/bookshelf/images/book.png"  width="86" height="127" /></div>
                	<?php }else{?>
                	      <div class="product" data-id=<?php echo $subtopic['id_topic']; ?>  title="<?php echo $subtopic['topic_name']?>"><img src="<?php echo $this->basePath();?>/public/js/bookshelf/images/book.png"  width="86" height="127" /></div>
                	<?php } ?>
    		<?php } ?>
    			</div>
    		</div>
    	<?php } ?>
        
           
        
            
        </div><!-- panel_items -->
    </div><!-- panel_slider -->
    
    <div class="panel_bar">
    	<div class='buttons_container'>
            <div id="arrow_box"><div id="arrow_menu"></div></div>
            <div class="button_items">
            	<?php 	foreach($this->themes as $topics){?>
                <div id="<?php echo "btn".$topics['id_topic'];?>" class="button_bar"><a href="#"><?php echo $topics['topic_name'];?></a></div>
                <?php } ?>
            </div>
		</div>
    </div>
    
</div><!-- bookshelf_slider -->

<?php }?>

<?php if($this->role==1){?>
<div class="panel">
		<div class="panel-heading">
			<h3 class="panel-title amaranth text-size-20">Lista de Temas:</h3>
		</div>
	</div>
		
		
			<?php if($this->themes){ ?>
			<div class="table-responsive">
				<table id="topics" class="table table-striped table-bordered">
				    <thead>
						<th>Trimestre</th>
					    <th>Descripci&oacute;n</th>
					    <th>Contenidos</th>
					    <th>Patrocinios</th>
					    
				    </thead>
				    <tbody align="center">
				       <?php foreach ($this->themes as $usermanual): ?>
				        <tr>
			    			<td><font size=2><?php echo $usermanual['topic_name'];?></font></td>
			    			<td><font size=2><?php echo $usermanual['topic_name'];?></font></td>
			    			<td>
			    				<a class="btn btn-primary" href="<?php echo $this->basePath()?>/classes/class/contents/<?php echo $usermanual['id_topic']?>" data-toggle="tooltip" data-placement="top" title="Editar Contenidos"><span class="glyphicon glyphicon-zoom-in"></span></a>		    					
			    			</td>
			    			<td>
			    				<a class="btn btn-success" href="<?php echo $this->basePath()?>/out/expenses/customsponsorship/<?php echo $usermanual['id_topic']?>" data-toggle="tooltip" data-placement="top" title="Patrocinios"><span class="glyphicon glyphicon-pencil"></span></a>		    					
			    			</td>
				        </tr>
				    <?php endforeach;?>
				    </tbody>
				</table>
			</div>
			<?php } else{?>
			<div class="col-md-12" align="center">
				<h3>Aun no tienes temas agregados.</h3>
			</div>
			<?php } ?>
			
<?php }?>
			</div>
	</div>
</div>

<!-- Modal -->
<div class="modal fade" id="modalContacts" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
    	<div class="modal-content">
      		<div class="modal-header">
        		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        		<h4 class="modal-title" id="myModalLabel">Contactos</h4>
      		</div>
		    <div class="modal-body" id="modal-body-contacts">
		    </div>
		    <div class="modal-footer">
		    	<button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
		    </div>
		</div>
	</div>
</div>


<script>

$( ".product" ).click(function() {
	$idParent = $(this).data("id") 
	$(location).attr('href', "<?php echo $this->basePath();?>/classes/class/myclass/"+$idParent);
});

</script>


<script>

var idParent = "<?php echo $this->parent;?>";
var defaultP = "<?php echo $this->themes[0]['id_topic']?>";
var role = "<?php echo $this->role?>";
var topics = <?php echo json_encode($this->themes)?>;
var subtopics = 0;
var boxHeight = 0;
// $.each( topics, function( key, value ) {
// 	  if((value.subtopics).length > subtopics){
// 		  subtopics = (value.subtopics).length;
// 		}
// 	});

// if(subtopics<=10){
// 	boxHeight=400;
// }else if(subtopics > 10 && subtopics <=15){
// 	boxHeight=450;
// }else if(subtopics >15 && subtopics <=40){
// 	boxHeight=550;
// }
if(idParent!=0){
	var defaultPosition = " #btn"+idParent;
}else{
	var defaultPosition = " #btn"+defaultP;
}

$(document).ready(function(){
	$("#topics").dataTable();
	if(role!=1){
		$.bookshelfSlider('#bookshelf_slider', {
			'item_width': '100%', //responsive design > resize window to see working
			'item_height': 580,
			'products_box_margin_left': 20,
			'product_title_textcolor': '#ffffff',
			'product_title_bgcolor': '#c33b4e',
			'product_margin': 20,
			'product_show_title': true,
			'show_selected_title': true,
			'buttons_margin': 15,
			'buttons_align': 'center', // left, center, right
		
		}, defaultPosition);
	}
	
});

$(".bottom").click(function() {
	  $("html, body").animate({ scrollTop: $(document).height() }, "slow");
	  return false;
	});

</script>

<style>
@-moz-keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    -moz-transform: translateY(0);
    transform: translateY(0);
  }
  40% {
    -moz-transform: translateY(-30px);
    transform: translateY(-30px);
  }
  60% {
    -moz-transform: translateY(-15px);
    transform: translateY(-15px);
  }
}
@-webkit-keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
  40% {
    -webkit-transform: translateY(-30px);
    transform: translateY(-30px);
  }
  60% {
    -webkit-transform: translateY(-15px);
    transform: translateY(-15px);
  }
}
@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    -moz-transform: translateY(0);
    -ms-transform: translateY(0);
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
  40% {
    -moz-transform: translateY(-30px);
    -ms-transform: translateY(-30px);
    -webkit-transform: translateY(-30px);
    transform: translateY(-30px);
  }
  60% {
    -moz-transform: translateY(-15px);
    -ms-transform: translateY(-15px);
    -webkit-transform: translateY(-15px);
    transform: translateY(-15px);
  }
}

.arrow {
position: relative;
bottom: 30px;
width: 40px;
height: 40px;
background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik0yOTMuNzUxLDQ1NS44NjhjLTIwLjE4MSwyMC4xNzktNTMuMTY1LDE5LjkxMy03My42NzMtMC41OTVsMCwwYy0yMC41MDgtMjAuNTA4LTIwLjc3My01My40OTMtMC41OTQtNzMuNjcyICBsMTg5Ljk5OS0xOTBjMjAuMTc4LTIwLjE3OCw1My4xNjQtMTkuOTEzLDczLjY3MiwwLjU5NWwwLDBjMjAuNTA4LDIwLjUwOSwyMC43NzIsNTMuNDkyLDAuNTk1LDczLjY3MUwyOTMuNzUxLDQ1NS44Njh6Ii8+DQo8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMjIwLjI0OSw0NTUuODY4YzIwLjE4LDIwLjE3OSw1My4xNjQsMTkuOTEzLDczLjY3Mi0wLjU5NWwwLDBjMjAuNTA5LTIwLjUwOCwyMC43NzQtNTMuNDkzLDAuNTk2LTczLjY3MiAgbC0xOTAtMTkwYy0yMC4xNzgtMjAuMTc4LTUzLjE2NC0xOS45MTMtNzMuNjcxLDAuNTk1bDAsMGMtMjAuNTA4LDIwLjUwOS0yMC43NzIsNTMuNDkyLTAuNTk1LDczLjY3MUwyMjAuMjQ5LDQ1NS44Njh6Ii8+DQo8L3N2Zz4=);
left: 101%;
border-radius:4px;
}

.bounce {
  -moz-animation: bounce 3s infinite;
  -webkit-animation: bounce 3s infinite;
  animation: bounce 3s infinite;
}

    @media (max-width : 720px) {
		.panel_bar{
			height:130px;
		}
		
		.arrow{
			left:88%;
			bottom:30%;
		}
    }
    
    @media (max-width : 400px) {
		.panel_bar{
			height:190px;
		}
    }
    

</style>